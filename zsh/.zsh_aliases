alias cid="cabal install --only-dependencies"
alias grepc="grep --colour=always"
alias mv="mv -i"
alias mn="mpc next"
alias mp="mpc prev"
alias mpcvu="mpc volume +5"
alias mpcvd="mpc volume -5"
alias sr="screen -r"
alias dlclip="xclip -o | xargs wget"
alias chmox="chmod +x"
alias lst="ls -ltr"
alias catra="kill -9"
alias :w="echo 'this is not vim'"
alias wow="git status"
alias gti="git" # this typo is waaaay too frequent
alias g="git"
alias f="urxvt &!" # useful for opening a new shell in the same directory
alias gap='git add -p'
alias gf='git fetch'
alias ocaml='rlwrap ocaml'
alias sctl=systemctl
alias dunst-off="notify-send DUNST_COMMAND_PAUSE"
alias dunst-on="notify-send DUNST_COMMAND_RESUME"
alias gmkpr='git p -u origin HEAD|&mkpr'

grs() {
    git stash && git rebase $@ && git stash pop
}

epochms() {
    while (( $# )) ; do
        case ${#1} in
            10) date -j -f '%s' "$1" '+%Y-%m-%d %H:%M:%S' ;;
            13) date -j -f '%s' "$(echo "$1" | head -c 10)" '+%Y-%m-%d %H:%M:%S.'$(echo -n "$1" | tail -c 3) ;;
            *) date -j -f '%Y-%m-%d %H:%M:%S' "$1" "+%s000" ;;
        esac
        shift
    done
}

gh() {
    local URL="$(jq -r .repository.url "${1:-package.json}")"
    if [[ $URL =~ '^git@' ]] ; then
      URL="$(echo "$URL" | sed 's/:/\//' | sed 's/git@/https:\/\//')"
    fi
    open "$URL"
}
